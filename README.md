## Makefile

| Команда                         | Что делает                                                                                                 | Когда использовать                                                                                              |
| ------------------------------- | ---------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| <pre>make test</pre>            | Запускает docker-compose с nginx и php, после чего запускает тесты                                         | Запуск тестов локально или в облаке                                                                             |
| <pre>make local-build</pre>     | Создаёт локально папки `backend/vendor`, `frontend/node_modules`, `frontend/dist-ssr`, `frontend/dist-spa` | Требуется для локальной разработки (позволяет использовать bind volume, чтобы не ребилдить образ постоянно)     |
| <pre>make local-dev</pre>       | Запускает nginx, php. После чего запускает NUXT в режиме разработчика (`npm run dev`)                      | Для локальной разработки                                                                                        |
| <pre>make local-dev-norun</pre> | Запускает nginx, php и ожидает SIGINT'а                                                                    | Для локальной разработки, позволяет вручную запускать в контейнере либо npm run dev либо тесты, либо что угодно |
